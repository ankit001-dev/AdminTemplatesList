Shopify.SearchByAllTypes=function(){var config={sectionId:"main-search",onComplete:null};return{renderResultTable:function(params){var params=params||{};$.extend(config,params),this.section=document.getElementById(config.sectionId),this.section&&(this.url=this.section.getAttribute("data-url"),this.id=this.section.getAttribute("data-id"),fetch(this.url).then(response=>response.text()).then(responseText=>{const html=responseText,resultElements=new DOMParser().parseFromString(html,"text/html").querySelector(`div[id="${config.sectionId}"]`)?.querySelector("template").content.firstElementChild.cloneNode(!0);if(resultElements&&resultElements.innerHTML.trim().length){this.section.innerHTML=resultElements.innerHTML;const collectionProduct=document.querySelector(".collection");collectionProduct.querySelectorAll(".product").length>0?collectionProduct.classList.add("productShowMore"):collectionProduct.classList.remove("productShowMore")}else this.section.remove();const loadMoreArticleBtn=document.getElementById("article-page-load-btn"),articlesPerLoad=parseInt(loadMoreArticleBtn.dataset.itemsPerPage),totalArticles=parseInt(loadMoreArticleBtn.dataset.total),totalPages=Math.ceil(totalArticles/articlesPerLoad);let currentPageNum=1;totalArticles<=articlesPerLoad&&(loadMoreArticleBtn.style.display="none"),totalPages<=1&&loadMoreArticleBtn.classList.add("disabled");const articleAndPageElements=[...document.querySelectorAll("[data-listed-article-or-page]")];articleAndPageElements.forEach((element,index)=>{index<articlesPerLoad?element.classList.add("visible"):element.classList.remove("visible")}),loadMoreArticleBtn.addEventListener("click",()=>{if(currentPageNum===totalPages)return;currentPageNum++,loadMoreArticleBtn.classList.add("is-loading");const randomTime=Math.random()*500+500;setTimeout(()=>{articleAndPageElements.forEach((element,index)=>{index<articlesPerLoad*currentPageNum?element.classList.add("visible"):element.classList.remove("visible")}),currentPageNum===totalPages&&(loadMoreArticleBtn.style.display="none"),loadMoreArticleBtn.classList.remove("is-loading")},randomTime)})}).catch(e=>{console.error(e)}))}}}();
//# sourceMappingURL=/cdn/shop/t/196/assets/halo.search-by-all-types.js.map?v=169681584649925462271720691917
